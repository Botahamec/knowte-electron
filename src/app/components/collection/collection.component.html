<div class="window-frame">
    <div class="window-frame-titlebar">
        <div class="window-frame-titlebar-dragarea pl-1">
            {{ applicationName }}
        </div>
        <main-menu-button></main-menu-button>
        <window-controls></window-controls>
    </div>
    <div class="window-frame-content">
        <div class="collection">
            <!-- Notebooks -->
            <div class="collection-notebooks">
                <!-- Notebooks title -->
                <div class="collection-notebooks-title p-2 no-select">
                    <h2>{{ 'MainPage.Notebooks' | translate }}</h2>
                    <div class="count-label">{{notebooksCount}}</div>
                </div>
                <!-- Notebooks list container -->
                <div class="collection-notebooks-list">
                    <!-- Notebooks list -->
                    <ul class="collection-notebooks-list-list">
                        <li>
                            <div class="notebook px-2 no-select"
                                [ngClass]="{'selected-notebook':notebook === selectedNotebook }"
                                *ngFor="let notebook of notebooks"
                                [ngStyle]="{'font-weight': notebook.isDefault ? 'bold' : 'normal' }"
                                (click)="setSelectedNotebook(notebook)">
                                {{ notebook.name }}</div>
                        </li>
                    </ul>
                    <!-- Notebooks buttons -->
                    <div class="collection-notebooks-list-buttons m-2">
                        <button class="list-button" mat-mini-fab color="" (click)="renameNotebook()"
                            matTooltip="{{ 'MainPage.RenameNotebook' | translate }}" *ngIf=canEditNotebook>
                            <span class="edit-item-icon">&#xE254;</span>
                        </button>
                        <button class="list-button" mat-mini-fab color="" (click)="deleteNotebookAsync()"
                            matTooltip="{{ 'MainPage.DeleteNotebook' | translate }}" *ngIf=canEditNotebook>
                            <span class="edit-item-icon">&#xE872;</span>
                        </button>
                        <button class="list-button" mat-fab (click)="addNotebookAsync()"
                            matTooltip="{{ 'MainPage.AddNotebook' | translate }}">
                            <span class="add-item-icon">&#xE145;</span>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Tabs -->
            <mat-tab-group (selectedTabChange)="onSelectedTabChange($event)">
                <mat-tab>
                    <ng-template mat-tab-label>
                        {{ 'NotesTabs.All' | translate }}
                        <div class="count-label">{{allNotesCount}}</div>
                    </ng-template>
                    <notes-component [selectedNotebook]="selectedNotebook" [componentCategory]="allCategory"
                        [categoryChangedSubject]="tabChangedSubject"></notes-component>
                </mat-tab>
                <mat-tab>
                    <ng-template mat-tab-label>
                        {{ 'NotesTabs.Today' | translate }}
                        <div class="count-label">{{todayNotesCount}}</div>
                    </ng-template>
                    <notes-component [selectedNotebook]="selectedNotebook" [componentCategory]="todayCategory"
                        [categoryChangedSubject]="tabChangedSubject"></notes-component>
                </mat-tab>
                <mat-tab>
                    <ng-template mat-tab-label>
                        {{ 'NotesTabs.Yesterday' | translate }}
                        <div class="count-label">{{yesterdayNotesCount}}</div>
                    </ng-template>
                    <notes-component [selectedNotebook]="selectedNotebook" [componentCategory]="yesterdayCategory"
                        [categoryChangedSubject]="tabChangedSubject"></notes-component>
                </mat-tab>
                <mat-tab>
                    <ng-template mat-tab-label>
                        {{ 'NotesTabs.ThisWeek' | translate }}
                        <div class="count-label">{{thisWeekNotesCount}}</div>
                    </ng-template>
                    <notes-component [selectedNotebook]="selectedNotebook" [componentCategory]="thisWeekCategory"
                        [categoryChangedSubject]="tabChangedSubject"></notes-component>
                </mat-tab>
                <mat-tab>
                    <ng-template mat-tab-label>
                        {{ 'NotesTabs.Marked' | translate }}
                        <div class="count-label">{{markedNotesCount}}</div>
                    </ng-template>
                    <notes-component [selectedNotebook]="selectedNotebook" [componentCategory]="markedCategory"
                        [categoryChangedSubject]="tabChangedSubject"></notes-component>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>